<!-- https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/Useful_string_methods -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Useful string methods</title>
</head>
<body>

    <div class="output" style="min-height: 125px;">
        <ul><li>Happy Birthday!</li><li>Merry Christmas my love</li><li>A happy Christmas to all the family</li><li>You're all I want for Christmas</li><li>Get well soon</li></ul>
      </div>
    


    <script>
        // tässä luodaan string-objekti
        const myString = "this is my string"; // instance String-luokasta, eli objekti

        // objekti, eli kokoelma properties ja methods
        // luokka, josta objekti luodaan, voi olla staattisia metodeja ja instance metodeja
        // static, voi käyttää suoraan luokan nimestä
        // instance, vaatii ensin objektin luokasta, instanssin

        // property, string-objektin tekstin pituus
        // jos pitää loopata string läpi for(let i = 0; i < myString.length; i++) 0 1 2 3 4 !5
        // for silmukka, joka alkaa indeksistä 0 ja jatkuu tekstin viimeiseen indeksiin
        console.log(myString.length);
        console.log(`${myString[0]} ${myString[5]} ${myString[21]}`);

        // Tee alle console.log, joka tulostaa muuttujan myString, viimeisen merkin
        // "test" 0 1 2 3 on indeksit, 4 on pituus (myString.length), pituus - 1 = 3 joka on viimeinen indeksi
        // "testi" 0 1 2 3 4 on indeksit ja 5 on pituus, pituus - 1 = 4 joka on viimeinen indeksi
        console.log(myString[myString.length - 1]); // tulostaa viimeisen merkin

        // string sisältää jonkin merkkijonon (string/substring)
        // includes()
        // parametri string "substring"
        // metodi palauttaa true tai false
        const browserType = "mozilla";

        if(browserType.includes("zilla")){
            console.log("Found zilla!");
        }else {
            console.log("No zilla here!");
        }

        // startsWith()
        // alkaako string annetuilla merkeillä?
        if(browserType.startsWith("zilla")){
            console.log("Found zilla!");
        }else {
            console.log("No zilla here!");
        }
        
        // endsWith()
        // päättyykö string annetuilla merkeillä?
        if(browserType.endsWith("zilla")){
            console.log("Found zilla!");
        }else {
            console.log("No zilla here!");
        }


        // Haetaan substring indeksi
        // indexOf()
        // Kaksi tapaa käyttää, 2 overloads (termi overload ei käytössä javascript kielessa)
        // ("substring") - mitä haetaan
        // ("substring", intIndex) - mitä haetaan ja mistä aloitetaan haku (indeksi)
        // palauttaa int arvon, josta substring alkaa. tai -1 jos ei löydy mitään

        const tagline = "MDN - resources for developers, by developers";
        console.log(tagline.indexOf("developers"));
        console.log(tagline.indexOf("x"));

        // kuinka löytyy toisen esiintymän indeksi?
        // Aloitetaan haku ensimmäisen löydetyn indeksin jälkeen
        console.log(tagline.indexOf("developers", 21));

        let index = 0;

        while(true){
            const newIndex = tagline.indexOf("e", index);
            if(newIndex === -1){
                break; // Break lopettaa silmukan, jonka sisällä ollaan
            }
            console.log(`Found 'e' at index: ${newIndex}`);
            index = newIndex + 1;
        }

        // Kuinka otetaan merkkijonosta palanen
        // slice()
        // (int: aloitus indeksi) aloitetaan annetusta indeksistä kaiken loppuun asti
        // (int: aloitus, int: merkkien määrä) annetusta indeksistä tiettyyn indeksiin
        console.log("1: " +browserType.slice(2));
        console.log("1, 4: " + browserType.slice(1, 4));
        console.log(browserType);
        // slice() ei muokkaa alkuperäistä string arvoa, vaan palauttaa uuden string objektin

        // Changing case, pienet ja isot merkit
        const upperLower = "My NaMe Is MuD";
        console.log(upperLower.toLocaleLowerCase());
        console.log(upperLower.toLocaleUpperCase());
        console.log(upperLower); // vanha objekti säilyy muuttumattomana

        // String osan muokkaaminen  -  vanilla JavaScript
        // replace()
        // ("haettu arvo", "korvaava arvo") haetaan tietty merkkijono ja korvataan se uudella merkkijonolla
        // browserType = "mozilla"
        let updated = browserType.replace("moz", "van");
        console.log(updated); // "vanilla"
        console.log(browserType); // "mozilla"
        updated = updated.replace("van", "moz");
        console.log(updated); // "mozilla"

        // replace korvaa vain ensimmäisen löydön
        // replaceAll, jos halutaan korvata kaikki
        let quote = "To be or not to be";
        quote = quote.replaceAll("be", "code");
        console.log(quote);

        const list = document.querySelector('.output ul');
        list.innerHTML = '';
        const greetings = ['Happy Birthday!',
                         'Merry Christmas my love',
                        'A happy Christmas to all the family',
                        'You\'re all I want for Christmas',
                         'Get well soon'];

        for (const greeting of greetings) {
        // Your conditional test needs to go inside the parentheses
        // in the line below, replacing what's currently there
        if (greeting.includes("Christmas")) {
            const listItem = document.createElement('li');
            listItem.textContent = greeting;
            list.appendChild(listItem);
        }
        }



    </script>
</body>
</html>